1
00:00:00,000 --> 00:00:01,935
こつをつかんだら

2
00:00:01,935 --> 00:00:03,600
クイズの時間です

3
00:00:03,600 --> 00:00:10,520
次の特徴は予測時点でわかりますか？

4
00:00:10,520 --> 00:00:13,295
再び割引クーポンコードの例です

5
00:00:13,295 --> 00:00:16,790
「1. 割引される商品のこれまでの販売総数」

6
00:00:16,790 --> 00:00:21,275
この総数をどのくらいの期間にわたり
集計しますか？

7
00:00:21,275 --> 00:00:24,760
その数値を得るまでに
どれくらいかかりますか？

8
00:00:24,760 --> 00:00:27,340
単純に「はい・いいえ」で答えられません

9
00:00:27,340 --> 00:00:30,100
入力として使えるかどうか判断する前に

10
00:00:30,100 --> 00:00:31,960
考えるべき質問があり

11
00:00:31,960 --> 00:00:34,010
1つ目はまだ不明確です

12
00:00:34,010 --> 00:00:38,135
「2. 割引商品の前月の販売総数」

13
00:00:38,135 --> 00:00:41,175
これは理想にかなり近いです

14
00:00:41,175 --> 00:00:44,570
予測時にこれを入手できると思われます

15
00:00:44,570 --> 00:00:47,255
これを定義する方法がありますか

16
00:00:47,255 --> 00:00:51,790
永続的に販売される割引商品の
これまでの販売総数は

17
00:00:51,790 --> 00:00:53,420
曖昧すぎます

18
00:00:53,420 --> 00:00:54,850
期間がわからず

19
00:00:54,850 --> 00:00:58,090
すべての商品の収集に
かかる時間もわかりません

20
00:00:58,090 --> 00:01:00,170
しかしもっと現実的な

21
00:01:00,170 --> 00:01:03,025
割引商品の前月の販売総数なら

22
00:01:03,025 --> 00:01:05,100
確かに扱えるでしょう

23
00:01:05,100 --> 00:01:07,905
入手可能な方法で定義されています

24
00:01:07,905 --> 00:01:11,140
もちろんシステムの遅延時間に依存するので

25
00:01:11,140 --> 00:01:14,905
そのような点もぜひ確認すべきでしょう

26
00:01:14,905 --> 00:01:17,925
このデータを取得して
リアルタイムで使うまでに

27
00:01:17,925 --> 00:01:20,590
実際にどれくらいかかりますか？

28
00:01:20,590 --> 00:01:25,570
最後は「3.特定の商品の
広告を見たお客様の数」です

29
00:01:25,580 --> 00:01:28,370
これもタイミングの問題です

30
00:01:28,370 --> 00:01:31,185
広告の分析を
他のシステムから取得して

31
00:01:31,185 --> 00:01:34,670
予測モデルで使えるようになるまでに

32
00:01:34,670 --> 00:01:36,940
どれくらいかかりますか？

33
00:01:36,940 --> 00:01:38,500
次のクイズは

34
00:01:38,500 --> 00:01:41,520
クレジットカードの不正決済です

35
00:01:41,520 --> 00:01:44,565
これらの特徴は
予測時点でわかりますか

36
00:01:44,565 --> 00:01:49,275
「1. カード所有者が以前にストアで
商品を購入したかどうか」

37
00:01:49,275 --> 00:01:52,395
これを定義するには
やはり注意が必要です

38
00:01:52,395 --> 00:01:55,235
クレジットカードのシステムで処理した後

39
00:01:55,235 --> 00:01:59,670
誰が何を買ったか
データウェアハウスで確認できるまでに

40
00:01:59,670 --> 00:02:01,440
3日かかるとします

41
00:02:01,440 --> 00:02:04,730
つまり誰かがクレジットカードを使っても

42
00:02:04,730 --> 00:02:06,989
すぐにはわかりません

43
00:02:06,989 --> 00:02:11,380
ストアから決済をウェアハウスに
届くのに3日かかるからです

44
00:02:11,380 --> 00:02:14,745
予測中にデータが届くまで3日かかる場合

45
00:02:14,745 --> 00:02:16,754
モデルのトレーニングでは

46
00:02:16,754 --> 00:02:20,130
3日前のデータでトレーニングします

47
00:02:20,130 --> 00:02:23,150
この点はとても重要なので
もっと説明しましょう

48
00:02:23,150 --> 00:02:25,100
現在のデータでトレーニングし

49
00:02:25,100 --> 00:02:27,590
古いデータで予測することはできません

50
00:02:27,590 --> 00:02:30,060
トレーニングで
データにアクセスする場合

51
00:02:30,060 --> 00:02:33,690
クレジットカード履歴値を
すべて使うことはできません

52
00:02:33,690 --> 00:02:37,375
すべての値が同時に
得られるわけではないからです

53
00:02:37,375 --> 00:02:40,905
そこでウェアハウス内部で
トレーニングデータを修正し

54
00:02:40,905 --> 00:02:45,000
3日前のものにして
この時間差を反映すべきです

55
00:02:45,000 --> 00:02:46,295
要するに

56
00:02:46,295 --> 00:02:49,405
リアルタイム予測時に
古いデータしかない場合

57
00:02:49,405 --> 00:02:52,140
古いデータでトレーニングすべきです

58
00:02:52,140 --> 00:02:54,000
少し思考実験しましょう

59
00:02:54,000 --> 00:02:56,724
たとえば5月15日に予測を行うとします

60
00:02:56,724 --> 00:03:00,930
データベースのデータは
予測時には5月12日が最新です

61
00:03:00,930 --> 00:03:02,890
トレーニング時に

62
00:03:02,890 --> 00:03:07,390
2月12日に保存されたデータを
入力として使う場合

63
00:03:07,390 --> 00:03:10,925
2月9日時点までの
クレジットカード使用回数でのみ

64
00:03:10,925 --> 00:03:12,695
トレーニングできます

65
00:03:12,695 --> 00:03:14,550
ここでも3日の時間差があり

66
00:03:14,550 --> 00:03:18,110
予測からトレーニングまで
古いデータに合わせて

67
00:03:18,110 --> 00:03:20,040
修正する必要があります

68
00:03:20,040 --> 00:03:22,600
ですからモデルのトレーニングのとき

69
00:03:22,600 --> 00:03:24,800
クレジットカード決済データが

70
00:03:24,800 --> 00:03:27,785
秒単位、分単位で届くと
予測で想定している場合は

71
00:03:27,785 --> 00:03:31,770
予測とトレーニングで
時間差が対応しないので

72
00:03:31,770 --> 00:03:34,800
精度の高いMLモデルになりません

73
00:03:34,800 --> 00:03:37,140
ですから使用するすべての入力変数の

74
00:03:37,140 --> 00:03:39,340
時間的な性質を考慮してください

75
00:03:39,340 --> 00:03:40,995
では次です

76
00:03:40,995 --> 00:03:43,745
「2.その商品はストアで
新発売ですか」

77
00:03:43,745 --> 00:03:46,775
新発売なら以前に購入したことがないですね

78
00:03:46,775 --> 00:03:48,410
これは優れた特徴です

79
00:03:48,410 --> 00:03:50,470
カタログからすぐにわかるので

80
00:03:50,470 --> 00:03:52,390
まったく有効な入力です

81
00:03:52,390 --> 00:03:54,950
次の「3.購入する商品のカテゴリ」は

82
00:03:54,950 --> 00:03:56,890
問題ありません
とても簡単です

83
00:03:56,890 --> 00:03:58,530
予測時にわかります

84
00:03:58,530 --> 00:04:01,450
商品が食品、衣料品、
家電のどれか

85
00:04:01,450 --> 00:04:03,880
リアルタイムで調べることができます

86
00:04:03,880 --> 00:04:07,990
「4.オンラインで購入したのか
店頭で直接購入したのか」

87
00:04:07,990 --> 00:04:10,425
これもリアルタイムでわかります

88
00:04:10,425 --> 00:04:12,725
問題ないので
使いましょう

89
00:04:12,725 --> 00:04:14,880
この場合もタイミング上の性質や

90
00:04:14,880 --> 00:04:18,180
他の関連システムについて
考えてください