こつをつかんだら クイズの時間です 次の特徴は予測時点でわかりますか？ 再び割引クーポンコードの例です 「1. 割引される商品のこれまでの販売総数」 この総数をどのくらいの期間にわたり
集計しますか？ その数値を得るまでに
どれくらいかかりますか？ 単純に「はい・いいえ」で答えられません 入力として使えるかどうか判断する前に 考えるべき質問があり 1つ目はまだ不明確です 「2. 割引商品の前月の販売総数」 これは理想にかなり近いです 予測時にこれを入手できると思われます これを定義する方法がありますか 永続的に販売される割引商品の
これまでの販売総数は 曖昧すぎます 期間がわからず すべての商品の収集に
かかる時間もわかりません しかしもっと現実的な 割引商品の前月の販売総数なら 確かに扱えるでしょう 入手可能な方法で定義されています もちろんシステムの遅延時間に依存するので そのような点もぜひ確認すべきでしょう このデータを取得して
リアルタイムで使うまでに 実際にどれくらいかかりますか？ 最後は「3.特定の商品の
広告を見たお客様の数」です これもタイミングの問題です 広告の分析を
他のシステムから取得して 予測モデルで使えるようになるまでに どれくらいかかりますか？ 次のクイズは クレジットカードの不正決済です これらの特徴は
予測時点でわかりますか 「1. カード所有者が以前にストアで
商品を購入したかどうか」 これを定義するには
やはり注意が必要です クレジットカードのシステムで処理した後 誰が何を買ったか
データウェアハウスで確認できるまでに 3日かかるとします つまり誰かがクレジットカードを使っても すぐにはわかりません ストアから決済をウェアハウスに
届くのに3日かかるからです 予測中にデータが届くまで3日かかる場合 モデルのトレーニングでは 3日前のデータでトレーニングします この点はとても重要なので
もっと説明しましょう 現在のデータでトレーニングし 古いデータで予測することはできません トレーニングで
データにアクセスする場合 クレジットカード履歴値を
すべて使うことはできません すべての値が同時に
得られるわけではないからです そこでウェアハウス内部で
トレーニングデータを修正し 3日前のものにして
この時間差を反映すべきです 要するに リアルタイム予測時に
古いデータしかない場合 古いデータでトレーニングすべきです 少し思考実験しましょう たとえば5月15日に予測を行うとします データベースのデータは
予測時には5月12日が最新です トレーニング時に 2月12日に保存されたデータを
入力として使う場合 2月9日時点までの
クレジットカード使用回数でのみ トレーニングできます ここでも3日の時間差があり 予測からトレーニングまで
古いデータに合わせて 修正する必要があります ですからモデルのトレーニングのとき クレジットカード決済データが 秒単位、分単位で届くと
予測で想定している場合は 予測とトレーニングで
時間差が対応しないので 精度の高いMLモデルになりません ですから使用するすべての入力変数の 時間的な性質を考慮してください では次です 「2.その商品はストアで
新発売ですか」 新発売なら以前に購入したことがないですね これは優れた特徴です カタログからすぐにわかるので まったく有効な入力です 次の「3.購入する商品のカテゴリ」は 問題ありません
とても簡単です 予測時にわかります 商品が食品、衣料品、
家電のどれか リアルタイムで調べることができます 「4.オンラインで購入したのか
店頭で直接購入したのか」 これもリアルタイムでわかります 問題ないので
使いましょう この場合もタイミング上の性質や 他の関連システムについて
考えてください